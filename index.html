<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>SaberGuard Security | Trust Center</title>
<meta name="description" content="Comprehensive security and compliance transparency for SaberGuard's managed security services." />
<link rel="icon" href="./favicon.png" type="image/png">
<script src="https://cdn.tailwindcss.com"></script>
<script>
tailwind.config = {
theme: {
extend: {
colors: {
brand: {
50: '#f0f9ff',
100: '#e0f2fe',
500: '#0ea5e9',
600: '#0284c7',
700: '#0369a1'
}
},
boxShadow: {
soft: '0 8px 24px rgba(0,0,0,.08)'
}
}
},
darkMode: 'class'
}
</script>
<style>
@media print {
.no-print { display: none !important; }
body { background: white !important; color: black !important; }
.dark\:bg-gray-900, .dark\:bg-gray-950, .dark\:bg-gray-800 { background: white !important; }
.dark\:text-gray-100, .dark\:text-gray-50 { color: black !important; }
.dark\:text-gray-300, .dark\:text-gray-400 { color: #4b5563 !important; }
.dark\:border-gray-800, .dark\:border-gray-700 { border-color: #e5e7eb !important; }
nav { position: static !important; }
section { page-break-inside: avoid; margin-bottom: 2rem !important; }
.gradient-border { border: 2px solid #0ea5e9 !important; background: white !important; }
h1, h2, h3 { color: black !important; }
.bg-gradient-to-r { background: white !important; }
}
.gradient-border {
position: relative;
background: linear-gradient(white, white) padding-box,
linear-gradient(135deg, #0ea5e9, #8b5cf6) border-box;
border: 2px solid transparent;
}
.dark .gradient-border {
background: linear-gradient(rgb(17 24 39), rgb(17 24 39)) padding-box,
linear-gradient(135deg, #0ea5e9, #8b5cf6) border-box;
}
@page { margin: 0.75in; size: letter; }
</style>
</head>
<body class="bg-gray-50 dark:bg-gray-950 text-gray-900 dark:text-gray-50 transition-colors">

<!-- Navigation -->
<nav class="sticky top-0 z-50 bg-white/80 dark:bg-gray-900/80 backdrop-blur-lg border-b border-gray-200 dark:border-gray-800 no-print">
<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
<div class="flex justify-between items-center h-16">
<div class="flex items-center gap-3">
<img id="navLogo" alt="SaberGuard" class="h-8" />
<span class="text-lg font-semibold">Trust Center</span>
</div>
<div class="flex items-center gap-3">
<button id="themeToggle" class="p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition" aria-label="Toggle theme">
<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"/></svg>
</button>
<button id="downloadBtn" class="px-4 py-2 bg-brand-600 hover:bg-brand-700 text-white rounded-lg transition font-medium text-sm">
Download Report
</button>
</div>
</div>
</div>
</nav>

<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">

<!-- Hero Section -->
<section class="mb-16">
<div class="gradient-border rounded-2xl p-8 lg:p-12">
<div class="flex flex-col lg:flex-row items-start gap-8">
<div class="flex-1">
<div class="inline-flex items-center gap-2 px-3 py-1 bg-brand-50 dark:bg-brand-900/20 text-brand-700 dark:text-brand-300 rounded-full text-sm font-medium mb-4">
<svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"/></svg>
Live Security Program
</div>
<h1 class="text-4xl lg:text-5xl font-bold mb-4 bg-gradient-to-r from-brand-600 to-purple-600 bg-clip-text text-transparent">
Security & Compliance You Can Trust
</h1>
<p class="text-lg text-gray-600 dark:text-gray-300 mb-6">
SaberGuard operates a comprehensive security and compliance program aligned with HIPAA Security Rule, NIST Cybersecurity Framework 2.0, and CIS Controls. Our infrastructure and processes are continuously monitored with quarterly governance reviews.
</p>
<div id="statusBadges" class="flex flex-wrap gap-3"></div>
</div>
<div class="lg:w-80 w-full">
<div class="bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg border border-gray-200 dark:border-gray-700">
<h3 class="font-semibold mb-4">Quick Facts</h3>
<dl class="space-y-3">
<div class="flex justify-between text-sm"><dt class="text-gray-600 dark:text-gray-400">Program Version</dt><dd id="quickVersion" class="font-semibold">v1.0</dd></div>
<div class="flex justify-between text-sm"><dt class="text-gray-600 dark:text-gray-400">Last Updated</dt><dd id="quickUpdated" class="font-semibold">Oct 2025</dd></div>
<div class="flex justify-between text-sm"><dt class="text-gray-600 dark:text-gray-400">Monitoring</dt><dd class="font-semibold text-green-600 dark:text-green-400">24/7 Active</dd></div>
<div class="flex justify-between text-sm"><dt class="text-gray-600 dark:text-gray-400">Contact</dt><dd id="quickContact" class="font-semibold text-brand-600">security@...</dd></div>
</dl>
</div>
</div>
</div>
</div>
</section>

<!-- Security Posture Overview -->
<section class="mb-16">
<h2 class="text-3xl font-bold mb-8">Security Posture Overview</h2>
<div class="grid md:grid-cols-3 gap-6">
<div class="bg-white dark:bg-gray-900 rounded-xl p-6 border border-gray-200 dark:border-gray-800">
<div class="w-12 h-12 bg-green-100 dark:bg-green-900/20 rounded-lg flex items-center justify-center mb-4"><svg class="w-6 h-6 text-green-600 dark:text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"/></svg></div>
<h3 class="text-xl font-semibold mb-2">Compliance Frameworks</h3>
<p class="text-gray-600 dark:text-gray-400 text-sm mb-4">Aligned with industry standards</p>
<div class="space-y-2">
<div class="flex items-center gap-2 text-sm"><div class="w-2 h-2 bg-green-500 rounded-full"></div><span>HIPAA Security Rule</span></div>
<div class="flex items-center gap-2 text-sm"><div class="w-2 h-2 bg-green-500 rounded-full"></div><span>NIST CSF 2.0</span></div>
<div class="flex items-center gap-2 text-sm"><div class="w-2 h-2 bg-green-500 rounded-full"></div><span>CIS Controls v8</span></div>
</div>
</div>
<div class="bg-white dark:bg-gray-900 rounded-xl p-6 border border-gray-200 dark:border-gray-800">
<div class="w-12 h-12 bg-blue-100 dark:bg-blue-900/20 rounded-lg flex items-center justify-center mb-4"><svg class="w-6 h-6 text-blue-600 dark:text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"/></svg></div>
<h3 class="text-xl font-semibold mb-2">Continuous Monitoring</h3>
<p class="text-gray-600 dark:text-gray-400 text-sm mb-4">Real-time security oversight</p>
<div class="space-y-2">
<div class="flex items-center gap-2 text-sm"><div class="w-2 h-2 bg-blue-500 rounded-full"></div><span>24/7 EDR/XDR Monitoring</span></div>
<div class="flex items-center gap-2 text-sm"><div class="w-2 h-2 bg-blue-500 rounded-full"></div><span>SIEM Log Analysis</span></div>
<div class="flex items-center gap-2 text-sm"><div class="w-2 h-2 bg-blue-500 rounded-full"></div><span>Threat Intelligence</span></div>
</div>
</div>
<div class="bg-white dark:bg-gray-900 rounded-xl p-6 border border-gray-200 dark:border-gray-800">
<div class="w-12 h-12 bg-purple-100 dark:bg-purple-900/20 rounded-lg flex items-center justify-center mb-4"><svg class="w-6 h-6 text-purple-600 dark:text-purple-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"/></svg></div>
<h3 class="text-xl font-semibold mb-2">Data Protection</h3>
<p class="text-gray-600 dark:text-gray-400 text-sm mb-4">Defense in depth approach</p>
<div class="space-y-2">
<div class="flex items-center gap-2 text-sm"><div class="w-2 h-2 bg-purple-500 rounded-full"></div><span>AES-256 Encryption</span></div>
<div class="flex items-center gap-2 text-sm"><div class="w-2 h-2 bg-purple-500 rounded-full"></div><span>TLS 1.3 in Transit</span></div>
<div class="flex items-center gap-2 text-sm"><div class="w-2 h-2 bg-purple-500 rounded-full"></div><span>Immutable Backups</span></div>
</div>
</div>
</div>
</section>

<!-- Security Domains -->
<section class="mb-16">
<h2 class="text-3xl font-bold mb-8">Security Domains</h2>
<div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6" id="domainsContainer"></div>
</section>

<!-- Controls Library -->
<section class="mb-16">
<div class="flex items-center justify-between mb-8">
<h2 class="text-3xl font-bold">Security Controls</h2>
<button id="exportControls" class="no-print px-4 py-2 bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-lg transition text-sm font-medium">Export as CSV</button>
</div>
<div class="bg-white dark:bg-gray-900 rounded-xl border border-gray-200 dark:border-gray-800 p-6 mb-4">
<p class="text-sm text-gray-600 dark:text-gray-400">This catalog provides a comprehensive overview of security controls implemented across our service delivery. Controls are mapped to HIPAA Security Rule requirements, NIST CSF 2.0 functions, and CIS Controls. Detailed attestation reports and evidence packages are available to customers under NDA.</p>
</div>
<div id="controlsGrid" class="grid md:grid-cols-2 gap-6"></div>
</section>

<!-- Certifications & Attestations -->
<section class="mb-16">
<h2 class="text-3xl font-bold mb-8">Certifications & Attestations</h2>
<div id="certificationsGrid" class="grid md:grid-cols-2 gap-6"></div>
</section>

<!-- Compliance Cadence -->
<section class="mb-16">
<h2 class="text-3xl font-bold mb-8">Continuous Compliance Activities</h2>
<div class="bg-white dark:bg-gray-900 rounded-xl border border-gray-200 dark:border-gray-800 p-6 mb-6"><p class="text-sm text-gray-600 dark:text-gray-400">Our security program operates on a continuous improvement model with scheduled assessments, reviews, and exercises throughout the year.</p></div>
<div id="timelineGrid" class="grid md:grid-cols-4 gap-6"></div>
</section>

<!-- Evidence & Documentation -->
<section class="mb-16">
<h2 class="text-3xl font-bold mb-8">Evidence & Documentation</h2>
<div class="bg-white dark:bg-gray-900 rounded-xl border border-gray-200 dark:border-gray-800 p-8">
<div class="flex items-start justify-between mb-6">
<div>
<h3 class="text-xl font-semibold mb-2">Available Evidence Packages</h3>
<p class="text-sm text-gray-600 dark:text-gray-400">Comprehensive documentation available for audit and due diligence purposes. Full evidence access requires NDA and BAA execution.</p>
</div>
<button id="requestAccess" class="no-print px-4 py-2 bg-brand-600 hover:bg-brand-700 text-white rounded-lg transition text-sm font-medium whitespace-nowrap">Request Access</button>
</div>
<ul id="evidenceList" class="grid md:grid-cols-2 gap-4"></ul>
</div>
</section>

<!-- Trust & Transparency -->
<section class="mb-16">
<div class="grid md:grid-cols-2 gap-6">
<div class="bg-white dark:bg-gray-900 rounded-xl border border-gray-200 dark:border-gray-800 p-8"><h3 class="text-xl font-semibold mb-4">Our Commitment</h3><div id="commitmentList" class="space-y-3"></div></div>
<div class="bg-white dark:bg-gray-900 rounded-xl border border-gray-200 dark:border-gray-800 p-8"><h3 class="text-xl font-semibold mb-4">Important Disclosures</h3><div class="prose prose-sm dark:prose-invert"><p class="text-gray-600 dark:text-gray-400 text-sm leading-relaxed">This Trust Center represents SaberGuard's self-attested security program. We have not undergone third-party certification by HHS, NIST, or other governmental bodies unless explicitly stated. All statements reflect our current operational practices as of the last update date shown above.</p><p class="text-gray-600 dark:text-gray-400 text-sm leading-relaxed mt-3">Detailed technical documentation, penetration test results, and customer-specific evidence are available upon request under appropriate confidentiality agreements. For security-sensitive inquiries, please contact our security team directly.</p></div></div>
</div>
</section>

</div>

<!-- Footer -->
<footer class="border-t border-gray-200 dark:border-gray-800 py-8">
<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
<div class="flex flex-col md:flex-row justify-between items-center gap-4">
<div class="text-sm text-gray-600 dark:text-gray-400">© <span id="year"></span> SaberGuard LLC. All rights reserved.</div>
<div class="flex gap-6 text-sm">
<a href="#" class="text-gray-600 dark:text-gray-400 hover:text-brand-600 dark:hover:text-brand-400">Privacy Policy</a>
<a href="#" class="text-gray-600 dark:text-gray-400 hover:text-brand-600 dark:hover:text-brand-400">Security</a>
<a href="#" class="text-gray-600 dark:text-gray-400 hover:text-brand-600 dark:hover:text-brand-400">Contact</a>
</div>
</div>
</div>
</footer>

<!-- Data model -->
<script type="application/json" id="trustData">{"meta":{"org":"SaberGuard LLC","logo_url":"./SaberGuard_1.png","last_updated":"2025-10-04","program_version":"v2.1","contact":"security@saberguard.tech","tagline":"Enterprise MSSP delivering proactive security operations and compliance"},"status_badges":[{"label":"HIPAA Aligned","status":"active","color":"blue"},{"label":"24/7 SOC","status":"active","color":"green"},{"label":"NIST CSF 2.0","status":"active","color":"blue"},{"label":"Encrypted","status":"active","color":"purple"}],"domains":[{"title":"Identity & Access Management","icon":"key","points":["Enforced MFA across all systems","Just-in-time privileged access","Quarterly access reviews","SSO integration with audit trails"]},{"title":"Endpoint & Network Security","icon":"shield","points":["Next-gen EDR with 24/7 monitoring","Network segmentation & micro-segmentation","IDS/IPS at all perimeter points","Encrypted backups with immutability"]},{"title":"Compliance & Risk","icon":"clipboard","points":["Comprehensive HIPAA policy framework","Continuous risk assessments","BAA management & vendor oversight","Quarterly compliance audits"]},{"title":"Incident Response","icon":"alert","points":["Centralized SIEM with correlation","Automated alert triage & escalation","Quarterly tabletop exercises","Mean time to detect: <15 minutes"]}],"controls_library":[{"group":"Data Security","icon":"database","controls":["Data classification and handling procedures","Automated encrypted backups (daily, tested monthly)","Secure data disposal with certificate of destruction","AES-256 encryption at rest for all ePHI","TLS 1.3 encryption in transit","Comprehensive data access logging and monitoring","Physical safeguards for on-premises infrastructure","Role-based access controls with least privilege"]},{"group":"Endpoint Management","icon":"laptop","controls":["Centralized MDM for all corporate devices","Full-disk encryption (BitLocker/FileVault)","Next-generation EDR with behavioral analysis","Disabled local admin rights by default","Automated patch deployment within 72 hours","Device health attestation before network access","Remote wipe capability for lost/stolen devices"]},{"group":"Email & Web Security","icon":"mail","controls":["Advanced email threat protection with AI","Attachment sandboxing and detonation","DMARC, SPF, and DKIM implementation","DNS filtering with threat intelligence","URL rewriting and time-of-click protection","DLP for outbound email scanning"]},{"group":"Application Security","icon":"code","controls":["Secure SDLC with security gates","Third-party component vulnerability scanning","Annual secure coding training for developers","Security design review for new applications","API security with rate limiting and authentication","Regular penetration testing of web applications"]},{"group":"Governance & Policy","icon":"book","controls":["Comprehensive information security policy suite","Annual risk assessment with risk register","Virtual CISO oversight and strategic planning","Security steering committee meetings quarterly","Vendor risk management program","Business continuity and disaster recovery plans"]},{"group":"Infrastructure Security","icon":"server","controls":["Network segmentation with VLANs and firewalls","IDS/IPS with signature and anomaly detection","Centralized logging to SIEM (6+ year retention)","Annual external penetration testing","Quarterly internal vulnerability scanning","Infrastructure as code with version control","Change management with approval workflows"]},{"group":"Asset & Vulnerability Management","icon":"layers","controls":["Automated asset discovery and inventory (CMDB)","Unauthorized software detection and blocking","Continuous vulnerability scanning","Patch management with defined SLAs","End-of-life software tracking and remediation","Hardware refresh cycle management"]},{"group":"User Awareness & Training","icon":"users","controls":["Annual security awareness training (required)","Monthly phishing simulations with remediation","Role-based security training for privileged users","HIPAA privacy and security training for all staff","Incident reporting training and communication","Security champion program"]}],"certifications":[{"title":"HIPAA Security Rule","status":"Self-Attested","description":"Comprehensive administrative, physical, and technical safeguards implemented to protect electronic protected health information (ePHI) in accordance with 45 CFR Part 160 and Part 164, Subparts A and C.","last_review":"2025-Q3","badge_color":"blue"},{"title":"NIST Cybersecurity Framework 2.0","status":"Self-Assessed","description":"Security program aligned with NIST CSF 2.0 core functions: Govern, Identify, Protect, Detect, Respond, and Recover. Implementation tier assessed at Tier 3 (Repeatable).","last_review":"2025-Q3","badge_color":"blue"},{"title":"CIS Controls v8","status":"Implementation Groups 1 & 2","description":"Core cybersecurity controls aligned with CIS Critical Security Controls, focusing on Implementation Groups 1 and 2 appropriate for MSP/MSSP operations.","last_review":"2025-Q2","badge_color":"green"}],"timeline":[{"quarter":"Q1","activities":["Annual comprehensive risk analysis","MFA compliance audit","Disaster recovery test (full restore)","Security awareness training refresh","Vendor security assessment reviews"]},{"quarter":"Q2","activities":["Security policy review and updates","Organization-wide phishing simulation","Incident response tabletop exercise","External penetration testing","Business continuity plan review"]},{"quarter":"Q3","activities":["Third-party vendor reviews and BAA updates","Patch compliance verification","SIEM rule tuning and optimization","Access control review (all systems)","Security metrics review with leadership"]},{"quarter":"Q4","activities":["Business continuity and DR exercise","Security training assessment","External vulnerability scan","Year-end compliance documentation","Next year program planning"]}],"evidence":[{"title":"Information Security Policy Suite","description":"Comprehensive security policies covering all domains","status":"Available under NDA"},{"title":"HIPAA Security Rule Self-Assessment","description":"Detailed gap analysis and implementation summary","status":"Available under BAA"},{"title":"Risk Assessment Report (Annual)","description":"Enterprise risk register with treatment plans","status":"Available under NDA"},{"title":"Incident Response Tabletop Summary","description":"Most recent IR exercise results and findings","status":"Summary available"},{"title":"Penetration Test Report","description":"External security assessment results","status":"Executive summary available"},{"title":"Third-Party Security Audit","description":"Independent security assessment (in progress)","status":"Target: Q1 2026"},{"title":"Business Continuity Plan","description":"Disaster recovery and resilience documentation","status":"Available under NDA"},{"title":"Vendor Security Assessments","description":"Third-party risk evaluation summaries","status":"Available to customers"}],"commitment":[{"text":"Transparency in our security practices and continuous improvement","icon":"eye"},{"text":"Client data protection as our highest priority","icon":"shield"},{"text":"Proactive threat hunting and 24/7 monitoring","icon":"search"},{"text":"Quarterly compliance reviews and audits","icon":"check"},{"text":"Rapid incident response with <15 minute detection","icon":"zap"},{"text":"Regular security awareness training for all personnel","icon":"graduation"}]}</script>

<!-- Data binding script -->
<script>
document.addEventListener('DOMContentLoaded', () => {
const $ = s => document.querySelector(s);
let data = {};
try {
data = JSON.parse(document.getElementById('trustData').textContent);
} catch(e) {
console.error('JSON parse error', e);
}

// Theme + download
$('#themeToggle')?.addEventListener('click', () => {
document.documentElement.classList.toggle('dark');
try {
localStorage.setItem('theme', document.documentElement.classList.contains('dark') ? 'dark' : 'light');
} catch{}
});
$('#downloadBtn')?.addEventListener('click', () => window.print());

// Meta
const dt = new Date(data.meta?.last_updated || Date.now());
$('#quickVersion').textContent = data.meta?.program_version || '';
$('#quickUpdated').textContent = dt.toLocaleString(undefined, { month:'short', year:'numeric' });
$('#quickContact').textContent = data.meta?.contact || '';
$('#year').textContent = new Date().getFullYear();
if (data.meta?.logo_url) {
const l=$('#navLogo');
if (l) {
l.src=data.meta.logo_url;
l.alt=data.meta.org || 'Logo';
}
}

// Status badges
const statusWrap = $('#statusBadges');
(data.status_badges||[]).forEach(b => {
const pill = document.createElement('span');
pill.className = 'inline-flex items-center gap-1 px-3 py-1 rounded-full text-sm ' +
(b.color==='green' ? 'bg-green-100 text-green-700 dark:bg-green-900/20 dark:text-green-300' :
b.color==='purple'? 'bg-purple-100 text-purple-700 dark:bg-purple-900/20 dark:text-purple-300' :
'bg-blue-100 text-blue-700 dark:bg-blue-900/20 dark:text-blue-300');
pill.textContent = b.label;
statusWrap?.appendChild(pill);
});

// Icons
const icons = {
key:"<svg class='w-4 h-4' viewBox='0 0 24 24' fill='currentColor'><path d='M21 10a4 4 0 1 0-7.75 1H3v3h4v3h3v-3h3.25A4 4 0 0 0 21 10zM9 20a2 2 0 1 1 0-4 2 2 0 0 1 0 4z'/></svg>",
shield:"<svg class='w-4 h-4' viewBox='0 0 24 24' fill='currentColor'><path d='M12 2l7 3v5c0 5-3.3 9.6-7 11-3.7-1.4-7-6-7-11V5l7-3z'/></svg>",
clipboard:"<svg class='w-4 h-4' viewBox='0 0 24 24' fill='currentColor'><path d='M9 2h6v2h3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h3V2zm2 0h2v2h-2V2z'/></svg>",
alert:"<svg class='w-4 h-4' viewBox='0 0 24 24' fill='currentColor'><path d='M12 2 1 21h22L12 2zm1 15h-2v2h2v-2zm0-8h-2v6h2V9z'/></svg>",
database:"<svg class='w-4 h-4' viewBox='0 0 24 24' fill='currentColor'><path d='M12 2C7 2 3 3.79 3 6v12c0 2.21 4 4 9 4s9-1.79 9-4V6c0-2.21-4-4-9-4zM5 8c0 .73 2.69 2 7 2s7-1.27 7-2v2c0 .73-2.69 2-7 2s-7-1.27-7-2V8zm0 6c0 .73 2.69 2 7 2s7-1.27 7-2v2c0 .73-2.69 2-7 2s-7-1.27-7-2v-2z'/></svg>",
laptop:"<svg class='w-4 h-4' viewBox='0 0 24 24' fill='currentColor'><path d='M4 5h16v10H4z'/><path d='M2 17h20v2H2z'/></svg>",
mail:"<svg class='w-4 h-4' viewBox='0 0 24 24' fill='currentColor'><path d='M20 4H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2zm0 4-8 5L4 8V6l8 5 8-5v2z'/></svg>",
code:"<svg class='w-4 h-4' viewBox='0 0 24 24' fill='currentColor'><path d='m8 17-5-5 5-5 1.5 1.5L6 12l3.5 3.5L8 17zm8 0-1.5-1.5L18 12l-3.5-3.5L16 7l5 5-5 5z'/></svg>",
book:"<svg class='w-4 h-4' viewBox='0 0 24 24' fill='currentColor'><path d='M18 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12V2zM8 6h6v2H8V6z'/></svg>",
server:"<svg class='w-4 h-4' viewBox='0 0 24 24' fill='currentColor'><path d='M3 3h18v6H3zM3 15h18v6H3zM7 6h2v2H7zM7 18h2v2H7z'/></svg>",
layers:"<svg class='w-4 h-4' viewBox='0 0 24 24' fill='currentColor'><path d='m12 2 10 6-10 6L2 8l10-6zm0 9 8.5 5.1L12 21 3.5 16.1 12 11z'/></svg>",
users:"<svg class='w-4 h-4' viewBox='0 0 24 24' fill='currentColor'><path d='M16 11c1.66 0 3-1.34 3-3S17.66 5 16 5s-3 1.34-3 3 1.34 3 3 3zM8 13c2.33 0 7 1.17 7 3.5V19H1v-2.5C1 14.17 5.67 13 8 13z'/></svg>"
};

// Domains
const domainsC = document.getElementById('domainsContainer');
(data.domains||[]).forEach(d => {
const card = document.createElement('div');
card.className = 'bg-white dark:bg-gray-900 rounded-xl p-6 border border-gray-200 dark:border-gray-800 shadow-soft';
card.innerHTML = `<div class="flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400 mb-3">${icons[d.icon]||''}<span>${d.title}</span></div><ul class="space-y-2 text-sm">${d.points.map(p=>`<li class="flex items-start gap-2"><span class="mt-1 w-1.5 h-1.5 rounded-full bg-brand-600"></span><span>${p}</span></li>`).join('')}</ul>`;
domainsC?.appendChild(card);
});

// Controls Library
const controlsGrid = $('#controlsGrid');
(data.controls_library||[]).forEach(sec => {
const card = document.createElement('div');
card.className = 'bg-white dark:bg-gray-900 rounded-xl p-6 border border-gray-200 dark:border-gray-800 shadow-soft';
card.innerHTML = `<div class="flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400 mb-3">${icons[sec.icon]||''}<span class="font-medium">${sec.group}</span></div><ul class="space-y-2 text-sm">${sec.controls.map(c=>`<li class="flex items-start gap-2"><span class="mt-1 w-1.5 h-1.5 rounded-full bg-blue-600"></span><span>${c}</span></li>`).join('')}</ul>`;
controlsGrid?.appendChild(card);
});

$('#exportControls')?.addEventListener('click', () => {
const rows = [['Group','Control']];
(data.controls_library||[]).forEach(sec => sec.controls.forEach(c => rows.push([sec.group, c])));
const csv = rows.map(r => r.map(x => `"${String(x).replace(/"/g,'""')}"`).join(',')).join('\n');
const blob = new Blob([csv], {type:'text/csv'});
const a = document.createElement('a');
a.href = URL.createObjectURL(blob);
a.download = 'controls.csv';
a.click();
});

// Certifications
const certGrid = $('#certificationsGrid');
(data.certifications||[]).forEach(c => {
const color = c.badge_color==='green' ? 'bg-green-100 text-green-700 dark:bg-green-900/20 dark:text-green-300' : 'bg-blue-100 text-blue-700 dark:bg-blue-900/20 dark:text-blue-300';
const card = document.createElement('div');
card.className = 'bg-white dark:bg-gray-900 rounded-xl p-6 border border-gray-200 dark:border-gray-800 shadow-soft';
card.innerHTML = `<div class="flex items-start justify-between gap-3"><div><div class="text-sm ${color} inline-flex px-2.5 py-1 rounded-full mb-2">${c.status}</div><h3 class="font-semibold">${c.title}</h3><p class="text-sm text-gray-600 dark:text-gray-400 mt-1">${c.description}</p></div><div class="text-xs text-gray-500">Last review: ${c.last_review||'—'}</div></div>`;
certGrid?.appendChild(card);
});

// Timeline
const tlGrid = $('#timelineGrid');
(data.timeline||[]).forEach(q => {
const card = document.createElement('div');
card.className = 'bg-white dark:bg-gray-900 rounded-xl p-6 border border-gray-200 dark:border-gray-800 shadow-soft';
card.innerHTML = `<div class="text-xs text-gray-500 mb-2">${q.quarter}</div><ul class="space-y-2 text-sm">${q.activities.map(a => `<li class="flex items-start gap-2"><span class="mt-1 w-1.5 h-1.5 rounded-full bg-purple-600"></span><span>${a}</span></li>`).join('')}</ul>`;
tlGrid?.appendChild(card);
});

// Evidence
const evList = $('#evidenceList');
(data.evidence||[]).forEach(e => {
const li = document.createElement('li');
li.className = 'p-4 rounded-lg border border-gray-200 dark:border-gray-800';
li.innerHTML = `<div class="flex items-center justify-between gap-3"><div><div class="font-medium">${e.title}</div><div class="text-sm text-gray-600 dark:text-gray-400">${e.description||''}</div></div><span class="text-xs px-2.5 py-1 rounded-full ${e.status?.includes('Available') || e.status?.includes('Target') ? 'bg-emerald-100 text-emerald-700 dark:bg-emerald-900/20 dark:text-emerald-300' : 'bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-300'}">${e.status||'—'}</span></div>`;
evList?.appendChild(li);
});

$('#requestAccess')?.addEventListener('click', () => {
window.location.href = `mailto:${encodeURIComponent(data.meta?.contact||'security@saberguard.tech')}?subject=${encodeURIComponent('Request: Evidence Access (NDA/BAA)')}`;
});

// Commitment
const commit = $('#commitmentList');
(data.commitment||[]).forEach(c => {
const row = document.createElement('div');
row.className = 'flex items-start gap-3';
row.innerHTML = `<span class="mt-1 w-1.5 h-1.5 rounded-full bg-brand-600"></span><span class="text-sm">${c.text}</span>`;
commit?.appendChild(row);
});

// Respect preferred theme if not set
try {
const saved = localStorage.getItem('theme');
if (!saved) {
const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
if (prefersDark) document.documentElement.classList.add('dark');
}
} catch {}

// --- Minimal self-tests (run in console) ---
try {
console.group('Trust Center Self-Tests');
console.assert(document.getElementById('trustData'), 'trustData block exists');
console.assert((data.domains||[]).length > 0, 'domains exist in data');
console.assert(document.getElementById('domainsContainer')?.children.length >= (data.domains||[]).length, 'domain cards rendered');
const testRows = [['Group','Control'], ['Data','Encryption at rest']];
const testCsv = testRows.map(r => r.map(x => `"${String(x).replace(/"/g,'""')}"`).join(',')).join('\n');
console.assert(testCsv.includes('\n'), 'CSV newline OK');
console.groupEnd();
} catch (e) {
console.warn('Self-tests failed', e);
}
});
</script>

</body>
</html>